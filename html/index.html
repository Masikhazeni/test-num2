<!DOCTYPE html>
<html>
<head>
  <title>Real-time Test</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
  <h2>ðŸ“¡ Real-time Event Listener</h2>
  <pre id="output">Waiting for data...</pre>

  <script>
    const socket = io("http://localhost:5000"); // Ø¢Ø¯Ø±Ø³ Ø³ÙˆÚ©Øªâ€ŒØ§Øª

    const userId = 1; // Ø§ÛŒÙ†Ùˆ Ø¨Ø§ user_id Ú©Ù‡ Ø¯Ø± POST Ù…ÛŒâ€ŒÙØ±Ø³ØªÛŒ ÛŒÚ©ÛŒ Ú©Ù†

    socket.on("connect", () => {
      console.log("Connected to server via Socket.io");
      socket.emit("register", userId); 
    });

    socket.on("device-event", (data) => {
      console.log(" Event received:", data);
      document.getElementById("output").textContent += "\n" + JSON.stringify(data, null, 2);
    });
  </script>
</body>
</html>
